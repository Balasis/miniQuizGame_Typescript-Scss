(()=>{"use strict";var t={d:(e,s)=>{for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{dp:()=>y,fM:()=>A,dO:()=>S,zH:()=>w});class e{name;moneyEarned;constructor(t,e){this.name=t,this.moneyEarned=e}setName(t){this.name=t}setMoneyEarned(t){this.moneyEarned=t}getName(){return this.name}getMoneyEarned(){return this.moneyEarned}useAssist(t){t.getUsed()||t.modifyTheQuiz()}toString(){return`Player name: ${this.name.toString()} holds so far ${this.moneyEarned}`}}const s={AssistBtnPanel:document.getElementById("assistsUI__Buttons"),populateAssistPanelElement(){const t=w.getAllAssists();for(const e in t){let s=t[e];const n=document.createElement("div");n.id=`assistD_${e}`,n.textContent=s.getUIdescription(),n.className="assists",n.addEventListener("click",(function(){S.useAssist(s),s.getUsed()&&n.classList.add("assistUsed")})),this.AssistBtnPanel.appendChild(n)}},emptyAssistPanelElement(){for(;this.AssistBtnPanel.firstChild;)this.AssistBtnPanel.removeChild(this.AssistBtnPanel.firstChild)}},n={scorePanel:document.getElementById("scorePanel"),emptyScorePanelElement(){for(;this.scorePanel.firstChild;)this.scorePanel.removeChild(this.scorePanel.firstChild)},populateScorePanelElement(){for(const t in w.getStagesBoard()){const e=document.createElement("div");e.id=`n_${t}`,e.textContent=t,e.className="n1_BorderInitialColor";const s=document.createElement("div");s.id=`c_${t}`,s.className="stageAnsweredTick",s.textContent="";const n=document.createElement("div");n.id=`m_${t}`,n.textContent=w.getStagesBoard()[t].stageTitle.toString(),n.className="m1_BorderInitialProps";const i=document.createElement("div");i.id=`s_${t}`,i.appendChild(e),i.appendChild(s),i.appendChild(n),"1"==t&&(i.classList.add("curStageBackground"),e.classList.add("BorderRightColorCurrent")),this.scorePanel.insertBefore(i,this.scorePanel.firstChild)}document.getElementById("m_1").classList.add("curStageBackground")},updateScorePanelUiFocusToNextStage(){let t=w.getStageCounter(),e=document.getElementById("s_"+(t-1));e.classList.remove("curStageBackground"),document.getElementById("m_"+(t-1)).classList.remove("curStageBackground"),document.getElementById("n_"+(t-1)).classList.remove("BorderRightColorCurrent"),e.classList.add("previousStageBackground"),document.getElementById("m_"+(t-1)).classList.add("previousStageBackground"),document.getElementById("n_"+(t-1)).classList.add("BorderRightColorPrevious"),e.querySelector(".stageAnsweredTick").textContent="*",document.getElementById(`s_${t}`).classList.add("curStageBackground"),document.getElementById(`m_${t}`).classList.add("curStageBackground"),document.getElementById(`n_${t}`).classList.add("BorderRightColorCurrent")}},i={theQuestion:document.getElementById("theQuestion"),theOpA:document.getElementById("theOptions__AB__A__text"),theOpB:document.getElementById("theOptions__AB__B__text"),theOpC:document.getElementById("theOptions__CD__C__text"),theOpD:document.getElementById("theOptions__CD__D__text"),allOp:document.getElementsByClassName("qOptionText"),resetClassesOfOptions(){for(let t=0;t<this.allOp.length;t++)this.allOp[t].parentElement.classList.contains("qAnswerWasCorrect")&&this.allOp[t].parentElement?.classList.remove("qAnswerWasCorrect"),this.allOp[t].parentElement.classList.contains("qWaitForAnswer")&&this.allOp[t].parentElement?.classList.remove("qWaitForAnswer"),this.allOp[t].parentElement.classList.contains("qAnswerWasWrong")&&this.allOp[t].parentElement?.classList.remove("qAnswerWasWrong")},populateQuestionDomElements(){let t=w.getStageCounter();this.theQuestion.textContent=w.getStagesBoard()[t].getQuestion().getTheQuestion(),this.theOpA.textContent=w.getStagesBoard()[t].question.options[0],this.theOpB.textContent=w.getStagesBoard()[t].question.options[1],this.theOpC.textContent=w.getStagesBoard()[t].question.options[2],this.theOpD.textContent=w.getStagesBoard()[t].question.options[3]},resetPotentialAssistsModifications(){const t=Array.from(this.allOp);for(const e of t)e.style.pointerEvents="auto"}};class o{used;description;UIdescription;constructor(t=!1,e,s){this.used=t,this.description=e,this.UIdescription=s}getUIdescription(){return this.UIdescription}getUsed(){return this.used}setUsed(t){this.used=t}}function r(t,e){return Math.floor(Math.random()*(e-t)+t)}class a extends o{constructor(){super(!1,"Hides 2 out of 4 incorrect options","50-50")}modifyTheQuiz(){let t,e=0,s=[];for(let e=0;e<=i.allOp.length;e++)if(i.allOp[e].textContent===w.getCurrentCorrectAnswer()){t=e;break}for(;e<2;){let n=r(0,i.allOp.length);n==t||s.includes(n)||(s.push(n),i.allOp[n].textContent="",i.allOp[n].style.pointerEvents="none",e++)}super.setUsed(!0)}}class l{thePlayer;timeSinceQuizStarted;stageCounter=0;stagesBoard={};theAssists={};constructor(t,e,s){this.thePlayer=t,this.timeSinceQuizStarted=e,this.stageCounter=s;let n=new a;this.theAssists.assistFiftyFifty=n}setTimeSinceQuizStarted(t){this.timeSinceQuizStarted=t}increaseStageCounter(){this.stageCounter=this.stageCounter+1}resetStageCounter(){this.stageCounter=0}addStageToStagesBoard(t,e){this.stagesBoard[t]=e}getAllAssists(){return this.theAssists}getAnAssist(t){return this.theAssists[t]}getStagesBoard(){return this.stagesBoard}gettimeSinceQuizStarted(){return this.timeSinceQuizStarted}getStageCounter(){return this.stageCounter}getCurrentCorrectAnswer(){return this.stagesBoard[this.stageCounter].getQuestion().getTheCorrectAnswer()}toString(){return`timeSinceQuizStarted: ${this.timeSinceQuizStarted.toString()} with\n     stage ${this.stageCounter}\n     and the player being ${this.thePlayer.getName()}\n     `}}class d{question;options;correctAnswer;difficulty;constructor(t,e,s,n){this.question=t,this.options=e,this.correctAnswer=s,this.difficulty=n}getTheQuestion(){return this.question}getTheCorrectAnswer(){return this.correctAnswer}getOption(t){return this.options[t]}}class c{stageNumber;stageTitle;assistUsed;question;constructor(t,e,s,n){this.stageNumber=t,this.stageTitle=e,this.assistUsed=s,this.question=n}getStageNumber(){return this.stageNumber}getstageTitle(){return this.stageTitle}getQuestion(){return this.question}getAssistedUsed(){return this.assistUsed}setAssistedUsed(t){this.assistUsed=t}}const u=document.getElementById("theQuizUI"),g=document.getElementById("restartButton"),m=document.getElementById("assistsUI__theVisibleResetBtn"),h=document.getElementById("wonTheGame");let p=!1;function C(t,e,s,n){let i=[];return fetch(t).then((t=>t.json())).then((t=>fetch("./build/moneyBoard.json").then((t=>t.json())).then((n=>{for(let o=e;o<=s;o++){let e;do{e=r(1,t.length)}while(-1!==i.indexOf(e));i.push(e);let s=new d(t[e].question,t[e].options,t[e].correctAnswer,1),a=new c(o,n[o],!1,s);w.addStageToStagesBoard(o,a)}}))))}async function E(){await C("./build/jsons/stageOnePartA.json",1,2),await C("./build/jsons/stageOnePartB.json",3,4),await C("./build/jsons/stageTwoPartA.json",5,6),await C("./build/jsons/stageTwoPartB.json",7,8),await C("./build/jsons/stageThreePartA.json",9,10),await C("./build/jsons/stageThreePartB.json",11,12),await C("./build/jsons/masters.json",13,14),await C("./build/jsons/masterDrEfremidis.json",9,15),s.emptyAssistPanelElement(),s.populateAssistPanelElement(),n.emptyScorePanelElement(),n.populateScorePanelElement(),i.resetClassesOfOptions(),i.populateQuestionDomElements()}async function B(){p||(y(new e("John",0)),A(new l(S,0,1)),await E(),h.style.display="none",h.classList.remove("animationForWinningOnWon"),u.parentElement.classList.remove("animationForWinning"),u.parentElement.style.pointerEvents="auto",u.parentElement.style.display="flex")}function f(t){if(p)return;p=!0;let e=i.allOp[t].parentElement;e.classList.add("qWaitForAnswer"),i.allOp[t].textContent==w.getCurrentCorrectAnswer()?setTimeout((function(){e.classList.remove("qWaitForAnswer"),e.classList.add("qAnswerWasCorrect"),setTimeout((function(){if(w.getStageCounter()+1>=16)return u.parentElement.style.pointerEvents="none",u.parentElement.classList.add("animationForWinning"),setTimeout((function(){u.parentElement.style.display="none",h.style.display="flex",h.classList.add("animationForWinningOnWon")}),5e3),void(p=!1);w.increaseStageCounter(),n.updateScorePanelUiFocusToNextStage(),i.resetPotentialAssistsModifications(),i.populateQuestionDomElements(),e.classList.remove("qAnswerWasCorrect"),p=!1,console.log(w.getCurrentCorrectAnswer())}),2e3)}),3e3):setTimeout((function(){e.classList.remove("qWaitForAnswer"),e.classList.add("qAnswerWasWrong"),function(){for(let t=0;t<i.allOp.length;t++)i.allOp[t].textContent==w.getCurrentCorrectAnswer()&&i.allOp[t].parentElement.classList.add("qAnswerWasCorrect")}(),p=!1}),3e3)}function y(t){S=t}function A(t){w=t}m.addEventListener("click",(function(){B()})),g.addEventListener("click",(function(){B()}));let S=new e("John",0),w=new l(S,0,1);for(let t=0;t<i.allOp.length;t++)i.allOp[t].parentElement.addEventListener("click",(function(){f(t)}));E(),i.resetPotentialAssistsModifications()})();